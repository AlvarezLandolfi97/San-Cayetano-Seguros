/* ===========================
   VARIABLES DE LAYOUT
   =========================== */
:root {
  --shell-max-width: 900px;
}

/* ===========================
   LAYOUT BASE USER (equivalente a admin)
   =========================== */

/* ====== Layout base ====== */
.user-shell {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 12px 0 22px;
  padding: 0 12px;
  min-height: calc(100vh - 205px);
}

@media (min-width: 1100px) {
  .user-shell {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0 120px;
  }
}

@media (max-width: 980px) {
  .user-shell {
    display: block;
  }
}

@media (max-width: 640px) {
  .user-shell {
    gap: 10px;
    margin: 8px 0 18px;
    padding: 0 8px;
  }
}

/* Wrapper interno opcional, si lo usás en el JSX */
.user-shell__body {
  width: 100%;
}

/* ====== Sidebar desktop ====== */
.user-sidebar {
  display: none;
}

@media (min-width: 1100px) {
  .user-sidebar {
    display: block;
    position: fixed;
    left: 18px;
    top: 50%;
    transform: translateY(-50%);
    z-index: 20;
  }

  .user-sidebar__items {
    display: grid;
    gap: 14px;
    padding: 6px 4px;
    box-shadow: none;
  }

  .user-sidebar__item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 2px 6px;
    border-radius: 12px;
    text-decoration: none;
    color: #1f2a44;
    font-weight: 700;
    border: 1px solid transparent;
    transition: transform .12s ease, opacity .12s ease;
  }

  .user-sidebar__item:hover {
    transform: translateX(3px);
  }

  .user-sidebar__item.is-active {
    color: #ffffff;
  }

  .user-sidebar__icon {
    width: 56px;
    height: 56px;
    border-radius: 16px;
    display: grid;
    place-items: center;
    background: #ffffff;
    color: #0d47a1;
    font-weight: 800;
    border: 1px solid #0d47a1;
    box-shadow: inset 0 1px 0 rgba(13,71,161,0.06);
    font-size: 1.05rem;
  }
  .user-sidebar__icon svg {
    width: 22px;
    height: 22px;
  }

  .user-sidebar__item.is-active .user-sidebar__icon {
    background: #0d47a1;
    color: #ffffff;
    border-color: #0d47a1;
  }

  .user-sidebar__label {
    display: inline-block;
    background: #0d47a1;
    color: #ffffff;
    padding: 6px 10px;
    border-radius: 12px;
    font-size: 0.86rem;
    font-weight: 700;
    letter-spacing: 0.01em;
    opacity: 0;
    transform: translateX(-4px);
    pointer-events: none;
    box-shadow: 0 4px 12px rgba(13, 71, 161, 0.16);
    transition: opacity .15s ease, transform .15s ease;
  }

  .user-sidebar__item:hover .user-sidebar__label,
  .user-sidebar__item.is-active:hover .user-sidebar__label {
    opacity: 1;
    transform: translateX(0);
  }
}

/* ====== Barra inferior para mobile (equivalente a admin-bottom-nav) ====== */
.user-bottom-nav {
  display: none;
}

@media (max-width: 1099px) {
  .user-bottom-nav {
    position: fixed;
    inset: auto 0 0 0;
    height: 70px;
    background: #ffffff;
    border-top: 1px solid #e6ecf5;
    box-shadow: 0 -4px 18px rgba(15, 23, 42, 0.06);
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    align-items: center;
    z-index: 50;
  }

  .user-bottom-nav__item {
    display: grid;
    justify-items: center;
    align-content: center;
    gap: 6px;
    text-decoration: none;
    color: #1f2a44;
    font-weight: 700;
    font-size: 0.95rem;
  }

  .user-bottom-nav__icon {
    width: 34px;
    height: 34px;
    border-radius: 10px;
    display: grid;
    place-items: center;
    background: #f2f6ff;
    color: #0d47a1;
    font-weight: 800;
    font-size: 0.95rem;
    border: 1px solid #d9e6f5;
  }
  .user-bottom-nav__icon svg {
    width: 18px;
    height: 18px;
  }

  .user-bottom-nav__item.is-active .user-bottom-nav__icon {
    background: #0d47a1;
    color: #ffffff;
    border-color: #0d47a1;
  }

  .user-bottom-nav__item.is-active {
    color: #0d47a1;
  }

  .user-bottom-nav__label {
    font-size: 0.82rem;
  }

  /* mismo truco que admin-shell */
  .user-shell {
    padding-bottom: 80px; /* espacio para la barra inferior fija */
  }
}

/* ====== Contenido (panel blanco, equivalente a admin-panel) ====== */
.user-panel {
  background: #fff;
  border: none;
  border-radius: 0;
  box-shadow: none;
  padding: 0;
  width: min(var(--shell-max-width), 100%);
  margin: 0 auto 20px;
}

@media (max-width: 640px) {
  .user-panel {
    padding: 0 0 76px; /* espacio para nav inferior */
    border-radius: 0;
  }
}

/* ===========================
   PÁGINAS / CABECERA / CARDS
   =========================== */

.user-page {
  width: 100%;
  max-width: var(--shell-max-width);
  margin: 0 auto;
  display: grid;
  gap: 14px;
  padding: 0 14px;
}

.user-page__header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
  margin: 4px 0 6px;
}

.user-page__title {
  margin: 0;
  font-size: clamp(1.5rem, 1.2rem + .8vw, 2rem);
  line-height: 1.2;
  font-weight: 800;
  color: #0d1b3f;
}

.user-page__subtitle {
  margin: 4px 0 0;
  color: #5b6b82;
  font-size: 0.98rem;
}

.user-card {
  background: #ffffff;
  border: 1px solid #e6ecf5;
  border-radius: 12px;
  box-shadow: 0 6px 18px rgba(13, 71, 161, 0.06);
  padding: 16px;
}

@media (max-width: 640px) {
  .user-card {
    border-radius: 10px;
    padding: 14px;
  }
}

/* ===========================
   ASOCIAR PÓLIZA
   =========================== */

.claim-policy {
  width: 100%;
  display: grid;
  gap: 16px;
  align-items: flex-start;
}

.claim-card {
  width: 100%;
  max-width: none;
}

.claim-form {
  display: grid;
  gap: 14px;
  max-width: none;
}

.claim-card .field {
  display: grid;
  gap: 8px;
}

.claim-card .field label {
  font-weight: 700;
  color: #0d1b3f;
  font-size: 0.95rem;
}

.claim-card .field input {
  height: 44px;
  padding: 10px 12px;
  border: 1px solid #d7e3f5;
  border-radius: 10px;
  background: #ffffff;
  transition: border-color .15s ease, box-shadow .15s ease;
}

.claim-card .field input:focus {
  outline: none;
  border-color: #0d47a1;
  box-shadow: 0 0 0 3px rgba(13, 71, 161, 0.15);
}

.claim-card .hint {
  color: #5b6b82;
  font-size: 0.86rem;
}

.claim-card .actions {
  display: flex;
  justify-content: flex-end;
}

.claim-alert {
  margin-bottom: 12px;
  padding: 10px 12px;
  border-radius: 10px;
  font-size: 0.95rem;
  font-weight: 600;
}

.claim-alert.is-error {
  color: #b00020;
  background: #fef2f2;
  border: 1px solid #fecaca;
}

.claim-alert.is-success {
  color: #065f46;
  background: #ecfdf5;
  border: 1px solid #a7f3d0;
}

.claim-card--result {
  margin-top: 8px;
}

.claim-title {
  margin: 0 0 4px;
}

.claim-text {
  margin: 0;
}

.claim-sub {
  margin: 6px 0 0;
  color: var(--text-muted, #6b7280);
}

/* ===========================
   POLICY OVERVIEW
   =========================== */

.policy-overview {
  width: 100%;
  color: var(--color-text);
}

.po-header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin:6px 0 8px;
  gap:14px;
  flex-wrap:wrap;
}

.po-title {
  margin:0;
  color:#0d1b3f;
}

.po-picker {
  position: relative;
  min-width: 220px;
}

.po-picker__btn {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  border:1px solid #dfe7f3;
  border-radius:12px;
  padding:10px 12px;
  font-weight:700;
  background:#fff;
  box-shadow: 0 6px 16px rgba(13,71,161,0.06);
  cursor: pointer;
}

.po-picker__list {
  position: absolute;
  inset: calc(100% + 6px) 0 auto 0;
  background:#fff;
  border:1px solid #dfe7f3;
  border-radius:12px;
  box-shadow: 0 12px 24px rgba(13,71,161,0.12);
  list-style: none;
  padding:6px;
  margin:0;
  z-index: 5;
}

.po-picker__item {
  padding:10px 10px;
  border-radius:10px;
  cursor:pointer;
  font-weight:700;
}

.po-picker__item:hover { background:#f4f7ff; }

.po-picker__item.is-selected { background:#e8f1ff; color:#0d47a1; }

/* Cards alineadas al estándar del dashboard */
.po-card {
  background: #ffffff;
  border: 1px solid #e6ecf5;
  border-radius: 12px;
  box-shadow: none;
  padding: 14px 16px;
  margin-bottom: 14px;
}

.po-card__head {
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin-bottom: 6px;
}

.po-sectionTitle {
  margin:0;
  font-weight:900;
  font-size:1.1rem;
  color:#0d1b3f;
}

.po-pill {
  display:inline-flex;
  align-items:center;
  gap:6px;
  background:#eef4ff;
  color:#0d47a1;
  border:1px solid #dbe7ff;
  padding:6px 10px;
  border-radius:12px;
  font-weight:800;
  font-size:.85rem;
}

/* Hero */
.po-hero {
  display:flex;
  flex-direction:column;
  gap:4px;
}

.po-hero__head {
  display:flex;
  align-items:flex-start;
  gap:10px;
  flex-wrap:wrap;
  justify-content:space-between;
}

.po-plan {
  font-size:1.45rem;
  font-weight:900;
  margin:0;
  color:#0d1b3f;
}

.po-status {
  font-size:.85rem;
  font-weight:800;
  padding:6px 12px;
  border-radius:999px;
  border:1px solid transparent;
  letter-spacing:0.01em;
}

.po-status.is-active {
  background:#e7f6ec;
  border-color:#c7ead3;
  color:#0b5f2b;
}

.po-status.is-inactive {
  background:#fdeaea;
  border-color:#f7d0d0;
  color:#8a1b1b;
}

.po-status.is-warning {
  background:#fff7e6;
  border-color:#ffe1b3;
  color:#9a5b00;
}

.po-hero__sub {
  margin:2px 0 0;
  color:#4b5563;
}

.po-empty { gap: 10px; align-items: flex-start; }

.po-empty .btn { align-self: flex-start; }

/* Estado vacío estilizado */
.po-empty-state {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 14px 16px;
  align-items: center;
}

.po-empty__icon {
  width: 64px;
  height: 64px;
  border-radius: 50%;
  background: #e9f0ff;
  display: grid;
  place-items: center;
  font-size: 1.8rem;
  color: #0d47a1;
  box-shadow: inset 0 1px 0 rgba(13, 71, 161, 0.06);
}

.po-empty__title {
  margin: 0;
  font-size: 1.25rem;
  color: #0d1b3f;
  grid-column: span 2;
}

.po-empty__text {
  margin: 0;
  color: #5b6b82;
  grid-column: span 2;
}

.po-empty__btn {
  grid-column: span 2;
  justify-self: end;
  margin-top: 8px;
}

@media (max-width: 640px) {
  .po-empty-state {
    grid-template-columns: 1fr;
    justify-items: flex-start;
  }

  .po-empty__title,
  .po-empty__text,
  .po-empty__btn {
    grid-column: span 1;
    justify-self: stretch;
  }

  .po-empty__btn {
    width: 100%;
  }
}

/* Resumen */
.po-summary {
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  align-items:center;
}

.po-adj {
  display:flex;
  align-items:center;
  gap:8px;
  justify-content: space-between;
  width: 100%;
}

.po-chip {
  background:#eef4ff;
  border:1px solid #dbe7ff;
  color:#0b3d90;
  border-radius:999px;
  padding:4px 12px;
  font-size:.78rem;
  font-weight:800;
}

.po-adj__date {
  font-weight: 900;
  color:#0d1b3f;
}

/* Pagos inline */
.po-payInline { margin-top:4px; }

.po-inlineContent {
  display:flex;
  flex-direction:column;
  gap:12px;
}

.po-inlineRow {
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  flex-wrap:wrap;
  gap:12px;
  border:1px solid #e8eef7;
  border-radius:12px;
  padding:12px;
  background:#fff;
}

.po-inlineInfo { display:grid; gap:4px; }

.po-charge__concept {
  font-weight:800;
  color:#0d1b3f;
}

.po-charge__meta {
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  color:#5b6b82;
}

.po-charge__amount {
  font-weight:900;
  color:#0d47a1;
}

/* Botones base */
.btn {
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  border-radius:10px;
  padding:.48rem .9rem;
  font-weight:800;
  cursor:pointer;
  border:1px solid transparent;
  transition: transform .1s ease, box-shadow .2s ease;
}

.btn--primary {
  background:linear-gradient(90deg,#0d47a1,#0f5ad7);
  color:#fff;
  border-color:#0d47a1;
}

.btn--primary:hover {
  transform:translateY(-1px);
  box-shadow:0 10px 24px rgba(13,71,161,.24);
}

.btn--outline {
  background:#fff;
  color:#0d47a1;
  border-color:#d9e6f5;
}

.btn--outline:hover {
  box-shadow:0 8px 20px rgba(13,71,161,.12);
}

.btn--sm { font-size:.9rem; }

.btn:disabled { opacity: .6; cursor: not-allowed; }

.po-receipts summary { cursor:pointer; margin-top:8px; }

.po-recList {
  list-style:none;
  padding:0;
  margin:0;
  display:grid;
  gap:10px;
}

.muted { color:var(--color-text-muted, #6b7280); }

/* ===== Datos de la póliza / vehículo ===== */
.po-details { margin: 4px 0 8px; }

.po-detailsGrid {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 12px 18px;
  padding-top: 6px;
}

.po-detailsGrid dt {
  font-size: .85rem;
  color: #5b6b82;
  margin-bottom: 2px;
}

.po-detailsGrid dd {
  margin: 0;
  font-weight: 800;
  color:#0d1b3f;
}

.po-colSpan2 { grid-column: span 2 / span 2; }

@media (max-width: 900px) {
  .po-detailsGrid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .po-colSpan2 { grid-column: span 2 / span 2; }
}

@media (max-width: 560px) {
  .po-detailsGrid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .po-colSpan2 { grid-column: span 2 / span 2; }
}

/* ---------- Comprobantes (recibos) ---------- */
.po-receipts { margin-top: 8px; }

.po-recHeader {
  font-weight: 800;
  font-size: 0.98rem;
  margin: 10px 0 8px;
  color:#0d1b3f;
}

.po-receipt details {
  border: 1px solid #e8eef7;
  border-radius: 12px;
  background: #fff;
  box-shadow: 0 8px 18px rgba(13,71,161,0.08);
}

.po-receipt__summary {
  list-style: none;
  cursor: pointer;
  padding: 12px 14px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.po-receipt__summary::-webkit-details-marker { display: none; }

.po-receipt__date {
  font-weight: 800;
  color:#0d1b3f;
}

.po-receipt__right {
  display: flex;
  align-items: center;
  gap: 10px;
}

.po-receipt__amount {
  font-weight: 800;
  color:#0d47a1;
}

.po-receipt__dl {
  display: grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap: 10px 18px;
}

.po-receipt__dl dt {
  font-size: .85rem;
  color: #5b6b82;
  margin-bottom: 2px;
}

.po-receipt__dl dd {
  margin: 0;
  font-weight: 700;
  color:#0d1b3f;
}

.po-download-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
}

.po-download-icon svg {
  width: 100%;
  height: 100%;
  display: block;
}

/* ===========================
   PAYMENTS
   =========================== */

.payments {
  width: 100%;
}

.payments .pay-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 12px;
  margin: 6px 0 8px;
}

.payments .pay-cta {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  width: 100%;
  margin: 1rem 0 0;
}

.payments .pay-cta .btn-group {
  display: flex;
  flex: 1;
  justify-content: space-between;
  gap: 10px;
}

.payments .pay-cta .btn--secondary {
  flex: 1;
  border: 1px solid var(--color-border, #cbd5e1);
  background: #fff;
  color: var(--color-primary, #0b2f6d);
  font-weight: 600;
  font-size: 0.85rem;
  padding: 6px 10px;
  border-radius: 8px;
  text-align: center;
  transition: all 0.2s ease-in-out;
}

.payments .pay-cta .btn--secondary:hover {
  background: var(--color-soft, #f2f6ff);
  border-color: var(--color-primary, #0b2f6d);
}

.payments .pay-cta .btn--primary {
  background: var(--color-primary, #0d47a1);
  color: white;
  font-weight: 600;
  font-size: 0.95rem;
  padding: 8px 18px;
  border-radius: 8px;
  border: none;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  transition: all 0.2s ease;
}

.payments .pay-cta .btn--primary:hover {
  background: #0b3d91;
}

.payments .pay-total {
  font-size: 0.9rem;
  color: #4b5563;
  margin-right: auto;
  min-width: 120px;
  text-align: right;
}

.payments .pay-list {
  display: grid;
  gap: 24px;
  margin: 1.5rem 0 0;
  width: 100%;
  grid-template-columns: 1fr;
}

.payments .pay-item {
  border-top: 1px solid var(--color-border, #e6edf7);
  padding-top: 16px;
  width: 100%;
}

.payments .pay-item__head {
  display: flex;
  align-items: start;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
  margin-bottom: 8px;
}

.payments .pay-item__title h2 {
  margin: 0;
  font-size: 1.05rem;
  font-weight: 700;
}

.payments .pay-item__title .muted {
  margin: 2px 0 0;
  font-size: 0.9rem;
  color: #6b7280;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

.payments .pay-item__meta {
  display: flex;
  gap: 18px;
  flex-wrap: wrap;
  align-items: center;
}

.payments .meta-col {
  display: grid;
  min-width: 100px;
}

.payments .meta-label {
  color: #6b7280;
  font-size: 0.85rem;
}

.payments .pay-charge {
  margin-top: 8px;
}

.charge-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 12px 14px;
  border: 1px solid #e6edf7;
  border-radius: 12px;
  background: #f6f8ff;
}

.charge-row input {
  transform: scale(1.1);
}

.charge-info {
  display: grid;
  gap: 2px;
  flex-grow: 1;
}

.charge-concept {
  font-weight: 700;
  color: #111827;
}

.charge-meta {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  align-items: center;
  color: #6b7280;
}

.charge-amount {
  font-weight: 800;
  color: #111827;
}

.highlighted-policy {
  animation: pulse-highlight 1.2s ease 1;
}

@keyframes pulse-highlight {
  0% { box-shadow: 0 0 0 0 rgba(13,71,161,0.35); }
  100% { box-shadow: 0 0 0 16px rgba(13,71,161,0); }
}

.po-receipts {
  margin-top: 10px;
}

.po-receipts > summary {
  cursor: pointer;
  color: var(--color-primary, #0d47a1);
  font-weight: 700;
  margin-bottom: 8px;
}

.rec-list {
  display: grid;
  gap: 12px;
  margin: 8px 0 0;
  padding: 0;
  list-style: none;
}

.rec-item {
  display: grid;
  gap: 8px;
}

.rec-head {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}

.pay-download-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 42px;
  height: 42px;
  padding: 0;
  line-height: 0;
  box-sizing: border-box;
}

.rec-collapse > summary.rec-date {
  cursor: pointer;
  font-weight: 700;
  color: #111827;
}

.rec-ticket {
  margin-top: 10px;
  border: 1px dashed #e0e6f2;
  border-radius: 8px;
  overflow: hidden;
}

@media (max-width: 768px) {
  .payments .pay-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }

  .payments .pay-cta {
    flex-direction: column;
    align-items: stretch;
    gap: 10px;
  }

  .payments .pay-cta .btn-group {
    flex-direction: row;
    flex-wrap: wrap;
    gap: 8px;
  }
  .payments .pay-cta .btn-group .btn--secondary {
    flex: 1 1 45%;
  }

  .payments .btn--secondary,
  .payments .btn--primary {
    width: 100%;
    text-align: center;
  }

  .payments .pay-item__head {
    flex-direction: column;
    align-items: flex-start;
  }

  .payments .pay-item__meta {
    flex-direction: row;
    flex-wrap: wrap;
    gap: 10px 16px;
  }

  .charge-row {
    flex-direction: column;
    align-items: flex-start;
  }

  .charge-meta {
    flex-direction: column;
    gap: 4px;
  }

  .rec-head {
    flex-direction: column;
    align-items: flex-start;
    gap: 6px;
  }

  .pay-total {
    text-align: left;
  }
}

@media (max-width: 640px) {
  .payments .pay-item__head {
    flex-direction: column;
    align-items: flex-start;
  }

  .payments .pay-item__meta {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 8px 12px;
  }

  .payments .meta-col { min-width: 0; }
}

@media (max-width: 480px) {
  .payments .pay-item__meta {
    grid-template-columns: 1fr;
  }

  .payments .pay-title {
    font-size: 1.3rem;
  }

  .charge-concept {
    font-size: 0.95rem;
  }
}

/* ===========================
   POLICY OVERVIEW
   =========================== */

@media (max-width: 720px) {
  .po-title { font-size: 1.6rem; }
  .po-card { padding: 12px; }
  .po-sectionTitle { font-size: 1rem; }
  .po-hero__head { align-items: flex-start; }
  .po-hero__sub { font-size: 0.95rem; }
}

/* Botón de Asociar Póliza a ancho completo */
.po-full-btn {
  width: 100%;
  display: block;
  text-align: center;
  margin-top: 10px;
  padding: 12px 16px;
  box-sizing: border-box;
  font-size: 1rem;
}

/* En desktop: que ocupe el ancho máximo del contenedor */
.policy-overview .po-full-btn {
  max-width: 100%;
}

/* En mobile: queda perfecto como CTA principal */
@media (max-width: 640px) {
  .po-full-btn {
    font-size: 1rem;
  }
}
